spring:
  config:
    import: optional:file:.env[.properties] # `.env` 파일을 가져옴
    activate:
      on-profile: common

  jpa:
    database-platform: org.hibernate.dialect.MySQLDialect
    hibernate:
      ddl-auto: create
    properties:
      hibernate:
        jdbc:
          time_zone: Asia/Seoul # 시간을 KTC로 설정
        format_sql: true
        #show_sql: true
        default_batch_fetch_size: 300 #ToMany관계에서 페이징 및 성능을 위한 옵션, 필요한 경우 개별 엔티티나 컬렉션에서 추가 설정

  sql:
    init:
      mode: always

logging:
  level:
    root: INFO
    org.hibernate.SQL: debug
    org.springframework: WARN
    com.example.facticle: DEBUG

server:
  port: 8080

jwt:
  #보안 상 노출되지 않는 것이 좋음 -> 추후 환경변수 등으로 관리
  #secret key는 쉘에서 openssl rand -base64 32 커맨드로 생성함, 서명화 알고리즘에서 성능이 빠른 HS256을 사용할 예정이므로 256 bit의 key를 생성
  secret: oRf96S6l4scYOnZpl747wPckC7FmrGbEPOvbVYZj8Lw=
  access-token-valid-time: 600000   # 30분 -> 10분
  refresh-token-valid-time: 3600000 # 1일 -> 1시간

cloud: #S3 설정 -> key의 경우 노출되지 않는 것이 중요 -> 베포 전 환경변수 등으로 관리
  aws:
    credentials:
      access-key: ${AWS_ACCESS_KEY}
      secret-key: ${AWS_SECRET_KEY}
    region:
      static: ${AWS_REGION}
    stack:
      auto: false
    s3:
      bucket: ${AWS_BUCKET_NAME}
